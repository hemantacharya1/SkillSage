---
description: 
globs: 
alwaysApply: true
---
# ğŸ“˜ AI Agent Frontend Coding Rulebook

### For: AI-Powered Coding Interview Platform (CodeSignal-like)

**Version:** 1.0  
**Last Updated:** 2025-06-13

---

## ğŸŒŸ Objective

Guide frontend development for a large-scale AI-powered interview platform, enforcing consistent practices, avoiding hallucinated features, and mimicking the **design system and color palette of CodeSignal.com**.

---

---

## ğŸ¨ Design Language

- Use **CodeSignal.com** as your visual reference.
- Stick to a cool, clean palette (blues, purples, greys, white).
- Tailwind themes should define color tokens (e.g., `primary`, `accent`, `bg-muted`).

```js
// tailwind.config.js (pseudo-theme example)
colors: {
  primary: '#0061ff',
  accent: '#6840ff',
  background: '#f9f9fc',
  muted: '#e3e8f0',
  ...
}
```

---

## ğŸ§‘â€ğŸ’¼ User Roles

Support only **2 roles**: `candidate`, `recruiter`

- Protect routes accordingly using `PrivateRoute` pattern or a wrapper HOC.
- Redirect users based on their role post-login.

---

## ğŸš¢ API Route Convention

| API Type     | Pattern Example                          |
| ------------ | ----------------------------------------- |
| Auth         | `/api/auth/login`, `/api/auth/reset-password` |
| Recruiter    | `/api/recruiter/interviews`, `/api/recruiter/feedback/:id` |
| Candidate    | `/api/candidate/interview/:id`, `/api/candidate/submit/:id` |

Use `axios.create()` for base instance.

---

## ğŸ›‹ï¸ Folder Structure (Recommended)

```
src/
â”œâ”€â”€ assets/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common/
â”‚   â””â”€â”€ recruiter/
â”‚   â””â”€â”€ candidate/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Auth/
â”‚   â”œâ”€â”€ Recruiter/
â”‚   â””â”€â”€ Candidate/
â”œâ”€â”€ hooks/
â”œâ”€â”€ services/
â”œâ”€â”€ utils/
â”œâ”€â”€ constants/
â”œâ”€â”€ router/
â”œâ”€â”€ layouts/
â””â”€â”€ main.jsx
```

> âœ… Group features by domain, not by type (e.g., `Recruiter/InterviewPage.jsx` rather than all pages in one folder)

---

## ğŸ” Authentication

- Use JWT stored in `localStorage`.
- Add Axios interceptor to attach token to protected routes.
- Handle login, register, forgot/reset password flows.

---

## ğŸ›† Page Flow

### ğŸ”¹ Recruiter

1. Login â†’ Recruiter Dashboard
2. Create interview (title, candidate email, duration, question)
3. See upcoming & past interviews (filter by status/date)
4. View feedback for completed sessions
5. Trigger AI feedback manually

### ğŸ”¹ Candidate

1. Open invite link â†’ Join page
2. See interview prompt (code + note + timer + video)
3. Submit code when done (before time ends)
4. Session auto-locks after timeout

---

## ğŸ’¬ UI Components (Must-Have)

- `CodeEditor` (using **Monaco Editor**)
- `VideoCallPanel` (placeholder UI, real-time optional)
- `SharedNoteEditor` (textarea with **WebSocket sync**)
- `TimerBar` (live countdown)
- `InterviewStatusCard`
- `FeedbackViewer` (show **Markdown** from Gemini)
- `InterviewCardList`, `InterviewFormModal`, etc.

---

## ğŸ§  AI Features UI

| Feature          | Trigger                      | Display Format |
| ---------------- | ---------------------------- | -------------- |
| AI Feedback      | Button in Recruiter Panel    | **Markdown View**  |
| Summary Report   | Show after interview ends    | Card List      |
| Plagiarism Check | âŒ Not included in v1         | N/A            |

---

## ğŸ“‚ Component Conventions

- Use PascalCase for components: `InterviewForm.jsx`
- Keep components atomic: no 500-line files
- Co-locate styles and subcomponents if reusable
- Separate form logic and validations using `react-hook-form` + `zod` (optional)

---

## ğŸ”® Markdown Viewer

- Parse Gemini Markdown feedback with a safe viewer like `react-markdown`
- Do not attempt to render executable code
- Style with Tailwind typography plugin (if used)

---

## ğŸ¦œ WebSocket Handling

- Used **only for**:
  - Shared Notes (`noteUpdate`)
  - Interview Timer (`timerStart`, `timerEnd`)
  - Lock candidate session (`sessionLock`)

- Connect via `/ws/interview/:id`
- Use `useWebSocket` custom hook for reuse

---

## âŒ Anti-Hallucination Rules

1. âŒ Do not implement chat, calendar sync, PDF export, or tagging features.
2. âŒ Do not assume AI will provide structured JSON â€” parse **Markdown** response.
3. âŒ Do not use uncontrolled inputs unless necessary.
4. âŒ Never mix recruiter and candidate routes/views in UI.
5. âŒ Donâ€™t implement real-time code sync unless scoped as optional.

---

## âœ… Optional Enhancements (If Time Allows)

| Feature                  | Status     |
| ------------------------ | ---------- |
| Framer Motion UX         | Optional   |
| Dark Mode                | Optional   |


